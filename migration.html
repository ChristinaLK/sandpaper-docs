<!-- START: inst/pkgdown/templates/layout.html -->
<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <!-- START: inst/pkgdown/templates/head.html -->
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<meta http-equiv="last-modified" content="2021-03-12 19:14:10 +0000">



<title>Intruction to the New Lesson Template: Migrating from Jekyll</title>

<link rel="apple-touch-icon-precomposed" sizes="57x57" href="favicons/cp/apple-touch-icon-57x57.png" />
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="favicons/cp/apple-touch-icon-114x114.png" />
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="favicons/cp/apple-touch-icon-72x72.png" />
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="favicons/cp/apple-touch-icon-144x144.png" />
<link rel="apple-touch-icon-precomposed" sizes="60x60" href="favicons/cp/apple-touch-icon-60x60.png" />
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="favicons/cp/apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon-precomposed" sizes="76x76" href="favicons/cp/apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="favicons/cp/apple-touch-icon-152x152.png" />
<link rel="icon" type="image/png" href="favicons/cp/favicon-196x196.png" sizes="196x196" />
<link rel="icon" type="image/png" href="favicons/cp/favicon-96x96.png" sizes="96x96" />
<link rel="icon" type="image/png" href="favicons/cp/favicon-32x32.png" sizes="32x32" />
<link rel="icon" type="image/png" href="favicons/cp/favicon-16x16.png" sizes="16x16" />
<link rel="icon" type="image/png" href="favicons/cp/favicon-128.png" sizes="128x128" />

<meta name="application-name" content="The Carpentries - Intruction to the New Lesson Template"/>

<meta name="msapplication-TileColor" content="#FFFFFF" />
<meta name="msapplication-TileImage" content="favicons/cp/mstile-144x144.png" />
<meta name="msapplication-square70x70logo" content="favicons/cp/mstile-70x70.png" />
<meta name="msapplication-square150x150logo" content="favicons/cp/mstile-150x150.png" />
<meta name="msapplication-wide310x150logo" content="favicons/cp/mstile-310x150.png" />
<meta name="msapplication-square310x310logo" content="favicons/cp/mstile-310x310.png" />



<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script>

<!--carpentries-->
<link href="css/syntax.css" rel="stylesheet">
<link href="css/lesson.css" rel="stylesheet">
<script src="js/lesson.js"></script>




<meta property="og:title" content="Migrating from Jekyll" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- END:   inst/pkgdown/templates/head.html-->

  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-title-body">
      <header>
      <!-- START: inst/pkgdown/templates/navbar.html -->
<div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">Home</a>
        <!-- TODO: the logo is not centered in the nav bar and looks ugly... also there needs to be a better way of choosing the logo... probably on the R side.-->
        <a href="https://carpentries.org" class="pull-left">
          <img class="navbar-logo" src="img/cp-icon-blue.svg" alt="The Carpentries logo" />
        </a>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="CODE_OF_CONDUCT.html">Code of Conduct</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Episodes
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="introduction.html">Introduction to the New Template</a>
    </li>
    <li>
      <a href="new-site.html">Creating a New Lesson</a>
    </li>
    <li>
      <a href="editing.html">Editing a {sandpaper} lesson</a>
    </li>
    <li>
      <a href="migration.html">Migrating from Jekyll</a>
    </li>
    <li>
      <a href="engine.html">The Template Engine: {sandpaper}</a>
    </li>
    <li>
      <a href="episodes.html">Episode Structure</a>
    </li>
    <li>
      <a href="template.html">The Website Template: {varnish}</a>
    </li>
    <li>
      <a href="validator.html">The Validator: {pegboard}</a>
    </li>
    <li>
      <a href="branches.html">GitHub Branches</a>
    </li>
    <li>
      <a href="deployment.html">How We Deploy the New Template</a>
    </li>
    <li>
      <a href="pull-request.html">Pull Request Previews</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    For Learners
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="setup.html">Setup</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    For Instructors
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="notes.html">Instructor Notes</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Learner Profiles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="maintainer.html">Maintainer Profiles</a>
    </li>
    <li>
      <a href="instructor.html">Instructor Profiles</a>
    </li>
  </ul>
</li>
<li>
  <a href="LICENSE.html">License</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->
<!-- END:   inst/pkgdown/templates/navbar.html-->

      <!--START: inst/pkgdown/templates/header.html-->


    <div class="panel panel-default life-cycle">
      <div id="life-cycle" class="panel-body pre-alpha">
         This lesson is still being designed and assembled (Pre-Alpha version) 
        
        
      </div>
    </div>


<!--END  : inst/pkgdown/templates/header.html-->

      </header>

<!-- START: inst/pkgdown/templates/content-title-body.html -->
<div class="row">
  <div class="contents col-md-9">
    <div class="page-header">
      <h1>Migrating from Jekyll</h1>
    </div>

<div class="section level2 objectives">
<h2>Overview</h2>
<div class="row">
<div class="col-md-3">
<p><strong>Teaching: </strong> 5<br />
<strong>Exercises: </strong> 2</p>
</div>
<div class="col-md-9">
<p><strong>Questions</strong></p>
<ul>
<li>Who is responsible for migrating a lesson?</li>
<li>What package should I use for migration?</li>
</ul>
</div>
</div>
<div class="row">
<div class="col-md-3">

</div>
<div class="col-md-9">
<p><strong>Objectives</strong></p>
<ul>
<li>Understand the challenges involved in migration</li>
<li>Identify the shared components between the current and new lesson template</li>
<li>Identify the tool needed for migration</li>
</ul>
</div>
</div>
</div>
<div id="quick-start" class="section level2">
<h2>Quick Start</h2>
<p>Got a lesson you want to convert? The <a href="validator.html">{pegboard}</a> package was built to do that! The best way to do this is to <strong>ask Zhian to do it for you</strong> since this is a process that should ideally only be done once. If you really want to, you can also try for yourself:</p>
<ol style="list-style-type: decimal">
<li>Install the package using <a href="setup.html">the setup instructions</a></li>
<li>Open R</li>
<li>Run <code>pegboard::jekyll_to_sandpaper()</code> to transform your lesson.</li>
</ol>
<aside class="callout">
<div id="caution-things-might-change-caution" class="section level3">
<h3>:caution: THINGS MIGHT CHANGE :caution:</h3>
<p>This feature is still in active development and may not yet work as advertised.</p>
</div>
</aside>
</div>
<div id="challenges" class="section level2">
<h2>Challenges</h2>
<p>In an ideal world, migration of a lesson would involve moving shared markdown documents between folders, but unfortunately, this is not the case. The truth is that there are <a href="https://github.com/markdown/markdown.github.com/wiki/Implementations">dozens of markdown interpreters</a> that all have a complicated hierarchy of rules.</p>
<div id="a-question-of-syntax" class="section level3">
<h3>A Question of Syntax</h3>
<p>The current template uses a markdown interpreter called <a href="https://kramdown.gettalong.org/">kramdown</a> because it was the default interpreter for <a href="https://jekyllrb.com/">Jekyll</a> at the time. This syntax allowed us to create customized block quotes that served as waypoints in our lessons to facilitate active learning. Unfortunately, the syntax diverged far enough from <a href="https://github.github.com/gfm/">GitHub Flavoured markdown (GFM)</a> that even if you were familiar with markdown, you would have to learn a new syntax to write your content.</p>
<p>Enter <a href="https://pandoc.org/">pandoc</a>. This tool is a cross-platform document converter that <a href="https://pandoc.org/MANUAL#pandocs-markdown">uses its own flavor of markdown</a>, that is more closely related to GFM than <a href="https://kramdown.gettalong.org/">kramdown</a>. For example, all of the features listed in the <a href="https://www.markdownguide.org/extended-syntax/">extended syntax of the markdown guide</a> are present in pandoc.</p>
<p>One of the biggest hurdles for the translation between <a href="https://kramdown.gettalong.org/">kramdown</a> and <a href="https://pandoc.org/">pandoc</a> syntax are two things:</p>
<ol style="list-style-type: decimal">
<li><a href="https://shopify.github.io/liquid/basics/introduction/">Liquid templating syntax</a> (e.g. <code>{{ relative_root_path }}/{% link LICENSE.md %}</code> to link to the license</li>
<li>Trailing styles: <a href="https://github.com/swcarpentry/DEPRECATED-lesson-template/issues/279#issuecomment-115491610" class="uri">https://github.com/swcarpentry/DEPRECATED-lesson-template/issues/279#issuecomment-115491610</a></li>
</ol>
<p>To give a succint example, if I wanted to write this code block in markdown:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true"></a><span class="im">import</span> matplotlib</span></code></pre></div>
<p>I would write</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true"></a><span class="in">```python</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true"></a><span class="im">import</span> matplotlib</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true"></a><span class="in">```</span></span></code></pre></div>
<p>However, <a href="https://kramdown.gettalong.org/">kramdown</a> specified this syntax:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true"></a><span class="in">~~~</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true"></a><span class="in">import matplotlib</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true"></a><span class="in">~~~</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true"></a>{: .language-python}</span></code></pre></div>
<p>While it was possible to use the GFM syntax in Kramdown, the first recommendation from the documentation has always been to use the trailing styles, and so that pattern stuck with the lessons.</p>
<p>All this goes to show that switching between these two syntaxes is not a simple task of find and replace.</p>
</div>
<div id="folder-structure" class="section level3">
<h3>Folder structure</h3>
<p>The folder structure of the Lesson has evolved sporadically based on need and entropy, which leaves us with “junk drawer” folders like “extras” that contain materials for both the learners and instructors. Moreover, the old template had separated the data folders from the episodes folders<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a>. On top of that, the lessons that use RMarkdown had episodes embedded in <code>_episodes_rmd/</code> where some of the files in that folder were artifacts from previous runs.</p>
</div>
<div id="questions-objectives-and-keypoints" class="section level3">
<h3>Questions, Objectives, and Keypoints</h3>
<p>The yaml headers of lessons contained bullet points for the questions, objectives, and keypoints, but it became difficult to write markdown in yaml quotation marks, so we have decided to migrate them to blocks in the lesson document itself.</p>
</div>
<div id="block-quotes" class="section level3">
<h3>Block Quotes</h3>
<p>Block quotes are convenient visual aids for writing callouts, but they are challenging to wrangle when you need to write code inside of them, especially if you have nested content. Our solution to this is to use <a href="https://zkamvar.github.io/glowing-chainsaw/05-fenced-div-challenge-blocks.html#example-1">fenced divs</a>.</p>
</div>
</div>
<div id="solution" class="section level2">
<h2>Solution</h2>
<p>The migration of the lesson template is taken care of via <a href="validator.html">{pegboard}</a>, which reads in the markdown source files using the commonmark markdown interpreter and internally manipulates the kramdown syntax to something it can interpret.</p>
<p>The resulting markdown is then written to convert the following:</p>
<ol style="list-style-type: decimal">
<li>block quotes become fenced divs</li>
<li>code blocks are converted to standard markdown</li>
<li>liquid tags are converted to normal, reference-based links</li>
<li>non-metadata yaml items moved to the body of the document.</li>
</ol>
</div>
<div class="section level2 keypoints">
<h2>Keypoints</h2>
<ul>
<li>Zhian will help migrate official lessons</li>
<li>use <a href="validator.html">{pegboard}</a> for migration</li>
</ul>
</div>
<!-- Please do not delete anything below this line -->
<div class="footnotes">
<hr />
<ol>
<li id="fn1"><p>This was an explicit design choice to mimic how researchers should set up their analysis projects, but it lead to some confusion when it came to rendering RMarkdown documents.<a href="#fnref1" class="footnote-back">↩︎</a></p></li>
</ol>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>

</div>


<!-- END:   inst/pkgdown/templates/content-title-body.html-->


      <footer>
      <!-- START: inst/pkgdown/templates/footer.html -->
<div class="container">
  <div class="row">
    <div class="col-xs-1">
      <h3 class="text-left">
        <a href="editing.html"><span class="glyphicon glyphicon-menu-left" aria-hidden="true"></span><span class="sr-only">previous episode</span></a>
      </h3>
    </div>
    <div class="col-xs-10">
      <h3 class="maintitle"><a href="index.html">Intruction to the New Lesson Template</a></h3>
    </div>
    <div class="col-xs-1">
      <h3 class="text-right">
        <a href="engine.html"><span class="glyphicon glyphicon-menu-right" aria-hidden="true"></span><span class="sr-only">next episode</span></a>
      </h3>
    </div>
  </div>
  <div class="row">
    <div class="col-md-6 copyright" align="left">
      Licensed under <a href="https://creativecommons.org/licenses/by-sa/4.0/">CC-BY 4.0</a> 2018–2021
      by <a href="https://carpentries.org">The Carpentries</a>
      <br>
      Licensed under <a href="https://creativecommons.org/licenses/by-sa/4.0/">CC-BY 4.0</a> 2016–2018
      by <a href="https://softwarecarpentry.org">Software Carpentry Foundation</a>
    </div>
    <div class="col-md-6 help-links pull-right" align="right">
      <a href="https://github.com/zkamvar/sandpaper-docs//edit/main/episodes/migration.Rmd" data-checker-ignore>Edit on GitHub</a>
      /
      <a href="https://github.com/zkamvar/sandpaper-docs//blob/main/CONTRIBUTING.md" data-checker-ignore>Contributing</a>
      /
      <a href="https://github.com/zkamvar/sandpaper-docs//">Source</a>
      /
      <a href="https://github.com/zkamvar/sandpaper-docs//blob/main/CITATION" data-checker-ignore>Cite</a>
      /
      <a href="mailto:zkamvar@carpentries.org">Contact</a>
    </div>
  </div>
  <div class="row">
    <div class="col-md-12" align="center">
      Using <a href="https://github.com/zkamvar/sandpaper">{sandpaper}</a>
      and <a href="https://github.com/zkamvar/varnish">{varnish}</a>.
    </div>
  </div>
</div>
<!-- END:   inst/pkgdown/templates/footer.html-->

      </footer>
   </div>

  <!-- START: inst/pkgdown/templates/docsearch.html -->

<!-- END:   inst/pkgdown/templates/docsearch.html-->


  </body>
</html>

<!-- END:   inst/pkgdown/templates/layout.html-->

